	LIST	P=16F84
	INCLUDE	"P16F84.INC"
	__CONFIG   _CP_OFF & _WDT_ON & _PWRTE_ON & _XT_OSC

	lsb		equ	H'0020'
	msb		equ	H'0021'


BASLANGIC:
PORTLARI_AYARLA:
	CLRF	PORTB			; PORTB VE PORTA SIFIRLANIR
	CLRF	PORTA

	BSF	STATUS,5
	MOVLW	B'00000000'
	MOVWF	TRISB
	MOVLW	B'00011111'
	MOVWF	TRISA
	BCF	STATUS,5


PROGRAM:

TEST_PORTA:
	BTFSC	PORTA,0
	GOTO	SAGDANSOLA		;PORTA,0="1" ISE SOLDANSAGA PROGRAMINA GIDER
	NOP

	BTFSC	PORTA,1
	GOTO	SOLDANSAGA		;PORTA,1="1" ISE SAGDANSOLA PROGRAMINA GIDER
	NOP


	GOTO PROGRAM		;ALGORITMA TEKRARLANIR


SOLDANSAGA:
	
	MOVLW	B'00000001'	
	MOVWF	PORTB		
	CALL	GECIKME	; 0.1Sn BEKLETME

				
	MOVLW	B'00000010'	
	MOVWF	PORTB		
	CALL	GECIKME

				
	MOVLW	B'00000100'
	MOVWF	PORTB
	CALL	GECIKME

	MOVLW	B'00001000'
	MOVWF	PORTB	
	CALL	GECIKME

	MOVLW	B'00010000'
	MOVWF	PORTB
	CALL	GECIKME

	MOVLW	B'00100000'
	MOVWF	PORTB
	CALL	GECIKME

	MOVLW	B'01000000'
	MOVWF	PORTB
	CALL	GECIKME

	MOVLW	B'10000000'
	MOVWF	PORTB
	CALL	GECIKME

	BTFSS	PORTB,0
	GOTO	SOLDANSAGA

SAGDANSOLA:
	MOVLW	B'10000000'
	MOVWF	PORTB
	CALL	GECIKME

	MOVLW	B'01000000'
	MOVWF	PORTB
	CALL	GECIKME

	MOVLW	B'00100000'
	MOVWF	PORTB
	CALL	GECIKME

	MOVLW	B'00010000'
	MOVWF	PORTB
	CALL	GECIKME

	MOVLW	B'00001000'
	MOVWF	PORTB
	CALL	GECIKME

	MOVLW	B'00000100'
	MOVWF	PORTB
	CALL	GECIKME

	MOVLW	B'00000010'
	MOVWF	PORTB
	CALL	GECIKME

	MOVLW	B'00000001'
	MOVWF	PORTB
	CALL	GECIKME

	BTFSS	PORTB,7
	GOTO	SAGDANSOLA

GECIKME:
	DLY_100MS		;YAKLASIK 100 MILI SANIYE
		CLRWDT
		MOVLW   D'200'
		MOVWF   msb
		GOTO	DLY1
	DLY1
		MOVLW   D'168'
		MOVWF   lsb
	DLY2			;YAKLASIK 3 MICRO SANIYE
		decfsz  lsb,F	;1 INS
	        goto    DLY2	;2 INS
	        decfsz  msb,F	;1 INS
        	goto    DLY1	;2 INS
	RETURN

END
